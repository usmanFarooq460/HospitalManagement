"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[778],{9778:(z,l,s)=>{s.r(l),s.d(l,{AppointmentsModule:()=>W});var a=s(9808),d=s(4366),p=s(4182),m=s(5168),t=s(5e3),_=s(520),c=s(2340);let g=(()=>{class e{constructor(n){this.http=n,this.header=new _.WM({"Content-Type":"application/json"}),this.apiUrl=c.N.apiUrl}saveAppointment(n){return this.http.post(this.apiUrl+"appointment/addNew",n,{headers:this.header})}getAppointmentHistory(){return this.http.get(this.apiUrl+"appointment/getAll",{headers:this.header})}updateAppointment(n,o){return this.http.put(this.apiUrl+"appointment/update/"+n,o,{headers:this.header})}getPatientsHistory(){return this.http.get(this.apiUrl+"addPatients/getAll",{headers:this.header})}deleteAppointment(n){return this.http.delete(this.apiUrl+"appointment/delete/"+n,{headers:this.header})}getHistoryOfDepartment(){return this.http.get(this.apiUrl+"department/getAll",{headers:this.header})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(_.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var f=s(7433),U=s(7184),v=s(8743),A=s(6945);function Z(e,i){1&e&&(t.TgZ(0,"div",34),t._uU(1,"\n                            Required\n                        "),t.qZA())}function h(e,i){if(1&e&&(t.TgZ(0,"div",34),t._uU(1,"\n                        "),t.YNc(2,Z,2,0,"div",8),t._uU(3,"\n                    "),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.form.appointmentDate.errors.required)}}function T(e,i){if(1&e&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.s9C("value",n._id),t.xp6(1),t.Oqu(null==n?null:n.Name)}}function q(e,i){1&e&&(t.TgZ(0,"div",34),t._uU(1,"\n                            Required\n                        "),t.qZA())}function x(e,i){if(1&e&&(t.TgZ(0,"div",34),t._uU(1,"\n                        "),t.YNc(2,q,2,0,"div",8),t._uU(3,"\n                    "),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.form.patient.errors.required)}}function C(e,i){1&e&&(t.TgZ(0,"div",34),t._uU(1,"\n                            Required\n                        "),t.qZA())}function b(e,i){if(1&e&&(t.TgZ(0,"div",34),t._uU(1,"\n                        "),t.YNc(2,C,2,0,"div",8),t._uU(3,"\n                    "),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.form.doctor.errors.required)}}function y(e,i){if(1&e&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.s9C("value",n._id),t.xp6(1),t.hij("",null==n?null:n.DepartmentName,"\n                        ")}}function N(e,i){1&e&&(t.TgZ(0,"div",34),t._uU(1,"\n                            Required\n                        "),t.qZA())}function J(e,i){if(1&e&&(t.TgZ(0,"div",34),t._uU(1,"\n                        "),t.YNc(2,N,2,0,"div",8),t._uU(3,"\n                    "),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.form.department.errors.required)}}function I(e,i){1&e&&(t.TgZ(0,"div",34),t._uU(1,"\n                            Required\n                        "),t.qZA())}function w(e,i){if(1&e&&(t.TgZ(0,"div",34),t._uU(1,"\n                        "),t.YNc(2,I,2,0,"div",8),t._uU(3,"\n                    "),t.qZA()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.form.reason.errors.required)}}function P(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){return t.CHM(n),t.oxw().Save()}),t._uU(1,"\n                Save\n            "),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("disabled",n.loaderOn_Save_Update)}}function S(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return r.update(r.updateId)}),t._uU(1,"\n                Update\n            "),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("disabled",n.loaderOn_Save_Update)}}function Q(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){return t.CHM(n),t.oxw().clear()}),t._uU(1,"\n                clear\n            "),t.qZA()}}function D(e,i){1&e&&(t.TgZ(0,"div",38),t._uU(1,"\n        No Data Found\n    "),t.qZA())}function M(e,i){1&e&&(t.TgZ(0,"div",39),t._uU(1,"\n        "),t._UZ(2,"app-loader"),t._uU(3,"\n    "),t.qZA())}function Y(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",40),t._uU(1,"\n        "),t.TgZ(2,"div",41),t._uU(3,"\n            "),t._UZ(4,"div",42),t._uU(5,"\n            "),t.TgZ(6,"div",43),t._uU(7,"\n                "),t.TgZ(8,"div",44),t._uU(9,"\n                    "),t.TgZ(10,"i",45),t.NdJ("click",function(){const u=t.CHM(n).$implicit;return t.oxw().getById(u)}),t.qZA(),t._uU(11,"\n                "),t.qZA(),t._uU(12,"\n                "),t.TgZ(13,"div",46),t._uU(14,"\n                    "),t.TgZ(15,"i",47),t.NdJ("click",function(){const u=t.CHM(n).$implicit;return t.oxw().deleteStaff(u._id)}),t.qZA(),t._uU(16,"\n                "),t.qZA(),t._uU(17,"\n            "),t.qZA(),t._uU(18,"\n        "),t.qZA(),t._uU(19,"\n        "),t.TgZ(20,"div",48),t._uU(21,"\n            "),t.TgZ(22,"div",49),t._uU(23,"\n                "),t.TgZ(24,"div",50),t._uU(25,"Appointment Date"),t.qZA(),t._uU(26,"\n                "),t.TgZ(27,"div",51),t._uU(28),t.ALo(29,"date"),t.qZA(),t._uU(30,"\n            "),t.qZA(),t._uU(31,"\n            "),t.TgZ(32,"div",49),t._uU(33,"\n                "),t.TgZ(34,"div",50),t._uU(35,"Department"),t.qZA(),t._uU(36,"\n                "),t.TgZ(37,"div",51),t._uU(38),t.qZA(),t._uU(39,"\n            "),t.qZA(),t._uU(40,"\n            "),t.TgZ(41,"div",49),t._uU(42,"\n                "),t.TgZ(43,"div",50),t._uU(44,"Patient Name"),t.qZA(),t._uU(45,"\n                "),t.TgZ(46,"div",51),t._uU(47),t.qZA(),t._uU(48,"\n            "),t.qZA(),t._uU(49,"\n            "),t.TgZ(50,"div",49),t._uU(51,"\n                "),t.TgZ(52,"div",50),t._uU(53,"reason"),t.qZA(),t._uU(54,"\n                "),t.TgZ(55,"div",51),t._uU(56),t.qZA(),t._uU(57,"\n            "),t.qZA(),t._uU(58,"\n        "),t.qZA(),t._uU(59,"\n    "),t.qZA()}if(2&e){const n=i.$implicit;t.xp6(28),t.Oqu(t.xi3(29,4,n.appointmentDate,"mediumDate")),t.xp6(10),t.Oqu(n.department.DepartmentName),t.xp6(9),t.Oqu(n.patient.Name),t.xp6(9),t.Oqu(n.reason)}}function F(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"app-warning-popups",52),t.NdJ("closePopup",function(r){return t.CHM(n),t.oxw().closeNotification(r)}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("isSuccessPopup",!0)("Message",n.message)}}function k(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"app-warning-popups",53),t.NdJ("closePopup",function(r){return t.CHM(n),t.oxw().closeNotification(r)}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("isWarningPopup",!0)("Message",n.message)}}function H(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"app-warning-popups",54),t.NdJ("closePopup",function(r){return t.CHM(n),t.oxw().closeNotification(r)}),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("isErrorPopup",!0)("Message",n.message)}}const O=function(e){return{invalid_field:e}},L=function(e){return{for_no_data:e}},E=function(e){return{"max-height":e}},R=[{path:"",component:(()=>{class e extends m.c{constructor(n,o){super(),this.service=n,this.formBuilder=o,this.allAppointmentsList=[],this.patientslist=[],this.departmentList=[],this.initForm()}initForm(){this.formdata=this.formBuilder.group({appointmentDate:[(0,a.p6)(new Date,"yyyy-MM-dd","en"),[p.kI.required]],patient:[null,[p.kI.required]],doctor:[null,[p.kI.required]],department:[null,[p.kI.required]],ward:[null],reason:[null]})}get form(){return this.formdata.controls}ngOnInit(){this.getAppointmentHistory(),this.getPatients(),this.getDepartments()}getById(n){this.updateId=n._id,this.formdata.patchValue({appointmentDate:(0,a.p6)(new Date(n.appointmentDate),"yyyy-MM-dd","en"),patient:n.patient._id,doctor:n.doctor,department:n.department._id,reason:n.reason})}getPatients(){this.service.getPatientsHistory().subscribe(n=>{console.log("patients histpory: ",n),this.patientslist=n},n=>{console.log("err: ",n),this.errorPopup(n.message)})}getDepartments(){this.service.getHistoryOfDepartment().subscribe(n=>{console.log("deparmtents: ",n),this.departmentList=n},n=>{console.log("err: ",n),this.errorPopup(n.message)})}getAppointmentHistory(){this.isLoading=!0,this.service.getAppointmentHistory().subscribe(n=>{this.isLoading=!1,this.allAppointmentsList=n,console.log("appoint ment history: ",n)},n=>{this.isLoading=!1,this.errorPopup(n.message)})}clear(){this.updateId=null,this.initForm()}Save(){0!=this.formdata.valid?(this.loaderOn_Save_Update=!0,this.service.saveAppointment(this.formdata.value).subscribe(n=>{this.loaderOn_Save_Update=!1,this.SuccessPopup("Successfully added"),this.getAppointmentHistory(),this.clear()},n=>{this.loaderOn_Save_Update=!1,this.errorPopup(n.message)})):this.formdata.markAllAsTouched()}update(n){this.formdata.invalid?this.formdata.markAllAsTouched():(this.loaderOn_Save_Update=!0,this.service.updateAppointment(this.updateId,this.formdata.value).subscribe(o=>{this.SuccessPopup("Data has updated"),this.clear(),this.loaderOn_Save_Update=!1,this.getAppointmentHistory()},o=>{this.errorPopup(o.message)}))}deleteStaff(n){console.log("id for delete : ",n),this.service.deleteAppointment(n).subscribe(o=>{this.SuccessPopup("Deleted Successfully"),console.log("deleted: ",o),this.getAppointmentHistory()},o=>{console.log("err in deleting ",o),this.errorPopup(o.message)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g),t.Y36(p.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-appointment"]],features:[t.qOj],decls:123,vars:33,consts:[[3,"heading","icon"],[1,"form","ml-1"],[3,"formGroup"],[1,"row"],[1,"col-md-4","col-6","m-0","p-1"],[1,"form_group"],["for","appointmentDate"],["type","date","name","appointmentDate","formControlName","appointmentDate","placeholder","Appointment Date",1,"form_control",3,"ngClass"],["class","invalid-feedback d-block",4,"ngIf"],["for","patient"],["name","patient","id","patient","formControlName","patient",1,"form_control"],["value","null",1,""],[3,"value",4,"ngFor","ngForOf"],["for","doctor"],["type","text","id","doctor","formControlName","doctor","placeholder","Doctor Name",1,"form_control",3,"ngClass"],["for","department"],["name","department","id","department","formControlName","department",1,"form_control"],[1,"col-md-6","col-6","m-0","p-1"],["for","reason"],["type","text","name","reason","formControlName","reason","placeholder","Reason",1,"form_control",3,"ngClass"],[1,"text-right"],["style","margin-top: 18px","type","submit","class","btn blue-color focused-button text-white btn-sm",3,"disabled","click",4,"ngIf"],["type","submit","style","margin-top: 18px","class","btn blue-color focused-button text-white btn-sm",3,"disabled","click",4,"ngIf"],["type","button","style","margin-top: 18px","class","btn blue-color focused-button text-white btn-sm",3,"click",4,"ngIf"],[1,"search_wrape"],["type","text","placeholder","search",1,"search",3,"keyup"],[1,"canvas_view",3,"ngClass","ngStyle"],["class","",4,"ngIf"],["class","no_data_found_in_canvas",4,"ngIf"],["class","custom_card",4,"ngFor","ngForOf"],[1,"col-12"],[3,"isSuccessPopup","Message","closePopup",4,"ngIf"],[3,"isWarningPopup","Message","closePopup",4,"ngIf"],[3,"isErrorPopup","Message","closePopup",4,"ngIf"],[1,"invalid-feedback","d-block"],[3,"value"],["type","submit",1,"btn","blue-color","focused-button","text-white","btn-sm",2,"margin-top","18px",3,"disabled","click"],["type","button",1,"btn","blue-color","focused-button","text-white","btn-sm",2,"margin-top","18px",3,"click"],[1,""],[1,"no_data_found_in_canvas"],[1,"custom_card"],[1,"header_edit_delete"],[1,"Header"],[1,"delete_Edit_btns","edit-delete-wrape"],[1,"edit-icon"],[1,"mdi","mdi-grease-pencil","cursor_pointer",3,"click"],[1,"delete-icon"],[1,"mdi","mdi-delete-forever","cursor_pointer",3,"click"],[1,"Card_body"],[1,"caption_value_wrape"],[1,"caption"],[1,"value"],[3,"isSuccessPopup","Message","closePopup"],[3,"isWarningPopup","Message","closePopup"],[3,"isErrorPopup","Message","closePopup"]],template:function(n,o){1&n&&(t._UZ(0,"page-title",0),t._uU(1,"\n\n"),t.TgZ(2,"div",1),t._uU(3,"\n    "),t.TgZ(4,"form",2),t._uU(5,"\n        "),t.TgZ(6,"div",3),t._uU(7,"\n            "),t.TgZ(8,"div",4),t._uU(9,"\n                "),t.TgZ(10,"div",5),t._uU(11,"\n                    "),t.TgZ(12,"label",6),t._uU(13,"Appointment Date"),t.qZA(),t._uU(14,"\n                    "),t._UZ(15,"input",7),t._uU(16,"\n                    "),t.YNc(17,h,4,1,"div",8),t._uU(18,"\n                "),t.qZA(),t._uU(19,"\n            "),t.qZA(),t._uU(20,"\n\n            "),t.TgZ(21,"div",4),t._uU(22,"\n                "),t.TgZ(23,"div",5),t._uU(24,"\n                    "),t.TgZ(25,"label",9),t._uU(26,"patient"),t.qZA(),t._uU(27,"\n                    "),t.TgZ(28,"select",10),t._uU(29,"\n                        "),t.TgZ(30,"option",11),t._uU(31,"Select patient"),t.qZA(),t._uU(32,"\n                        "),t.YNc(33,T,2,2,"option",12),t._uU(34,"\n                    "),t.qZA(),t._uU(35,"\n                    "),t.YNc(36,x,4,1,"div",8),t._uU(37,"\n                "),t.qZA(),t._uU(38,"\n            "),t.qZA(),t._uU(39,"\n\n            "),t.TgZ(40,"div",4),t._uU(41,"\n                "),t.TgZ(42,"div",5),t._uU(43,"\n                    "),t.TgZ(44,"label",13),t._uU(45,"Doctor"),t.qZA(),t._uU(46,"\n                    "),t._UZ(47,"input",14),t._uU(48,"\n                    "),t.YNc(49,b,4,1,"div",8),t._uU(50,"\n                "),t.qZA(),t._uU(51,"\n            "),t.qZA(),t._uU(52,"\n\n            "),t.TgZ(53,"div",4),t._uU(54,"\n                "),t.TgZ(55,"div",5),t._uU(56,"\n                    "),t.TgZ(57,"label",15),t._uU(58,"Department"),t.qZA(),t._uU(59,"\n                    "),t.TgZ(60,"select",16),t._uU(61,"\n                        "),t.TgZ(62,"option",11),t._uU(63,"Select department"),t.qZA(),t._uU(64,"\n                        "),t.YNc(65,y,2,2,"option",12),t._uU(66,"\n                    "),t.qZA(),t._uU(67,"\n                    "),t.YNc(68,J,4,1,"div",8),t._uU(69,"\n                "),t.qZA(),t._uU(70,"\n            "),t.qZA(),t._uU(71,"\n\n            "),t.TgZ(72,"div",17),t._uU(73,"\n                "),t.TgZ(74,"div",5),t._uU(75,"\n                    "),t.TgZ(76,"label",18),t._uU(77,"Reason"),t.qZA(),t._uU(78,"\n                    "),t._UZ(79,"input",19),t._uU(80,"\n                    "),t.YNc(81,w,4,1,"div",8),t._uU(82,"\n                "),t.qZA(),t._uU(83,"\n            "),t.qZA(),t._uU(84,"\n\n        "),t.qZA(),t._uU(85,"\n        "),t.TgZ(86,"div",20),t._uU(87,"\n            "),t.YNc(88,P,2,1,"button",21),t._uU(89,"\n            "),t.YNc(90,S,2,1,"button",22),t._uU(91,"\n            "),t.YNc(92,Q,2,0,"button",23),t._uU(93,"\n        "),t.qZA(),t._uU(94,"\n    "),t.qZA(),t._uU(95,"\n"),t.qZA(),t._uU(96,"\n\n\n"),t.TgZ(97,"div",24),t._uU(98,"\n    "),t.TgZ(99,"input",25),t.NdJ("keyup",function(u){return o.HandleSearchChange(u.target.value)}),t.qZA(),t._uU(100,"\n"),t.qZA(),t._uU(101,"\n"),t.TgZ(102,"div",26),t._uU(103,"\n    "),t.YNc(104,D,2,0,"div",27),t._uU(105,"\n    "),t.YNc(106,M,4,0,"div",28),t._uU(107,"\n    "),t.YNc(108,Y,60,7,"div",29),t.ALo(109,"filterByAllProperties"),t._uU(110,"\n"),t.qZA(),t._uU(111,"\n\n"),t.TgZ(112,"div",3),t._uU(113,"\n    "),t.TgZ(114,"div",30),t._uU(115,"\n        "),t.YNc(116,F,1,2,"app-warning-popups",31),t._uU(117,"\n        "),t.YNc(118,k,1,2,"app-warning-popups",32),t._uU(119,"\n        "),t.YNc(120,H,1,2,"app-warning-popups",33),t._uU(121,"\n    "),t.qZA(),t._uU(122,"\n"),t.qZA()),2&n&&(t.Q6J("heading","Appointment")("icon","mdi mdi-account-multiple"),t.xp6(4),t.Q6J("formGroup",o.formdata),t.xp6(11),t.Q6J("ngClass",o.form.appointmentDate.invalid&&o.form.appointmentDate.touched?"invalid_field":""),t.xp6(2),t.Q6J("ngIf",o.form.appointmentDate.invalid&&o.form.appointmentDate.touched),t.xp6(16),t.Q6J("ngForOf",o.patientslist),t.xp6(3),t.Q6J("ngIf",o.form.patient.invalid&&o.form.patient.touched),t.xp6(11),t.Q6J("ngClass",t.VKq(27,O,o.form.doctor.invalid&&o.form.doctor.touched)),t.xp6(2),t.Q6J("ngIf",o.form.doctor.invalid&&o.form.doctor.touched),t.xp6(16),t.Q6J("ngForOf",o.departmentList),t.xp6(3),t.Q6J("ngIf",o.form.department.invalid&&o.form.department.touched),t.xp6(11),t.Q6J("ngClass",o.form.reason.invalid&&o.form.reason.touched?"invalid_field":""),t.xp6(2),t.Q6J("ngIf",o.form.reason.invalid&&o.form.reason.touched),t.xp6(7),t.Q6J("ngIf",null==o.updateId||null==o.updateId),t.xp6(2),t.Q6J("ngIf",null!=o.updateId||null!=o.updateId),t.xp6(2),t.Q6J("ngIf",null!=o.updateId||null!=o.updateId),t.xp6(10),t.Q6J("ngClass",t.VKq(29,L,!((null==o.allAppointmentsList?null:o.allAppointmentsList.length)>0)))("ngStyle",t.VKq(31,E,o.gridHeight+"px")),t.xp6(2),t.Q6J("ngIf",!((null==o.allAppointmentsList?null:o.allAppointmentsList.length)>0)&&0==o.isLoading),t.xp6(2),t.Q6J("ngIf",o.isLoading&&!((null==o.allAppointmentsList?null:o.allAppointmentsList.length)>0)),t.xp6(2),t.Q6J("ngForOf",t.xi3(109,24,o.allAppointmentsList,o.searchValue)),t.xp6(8),t.Q6J("ngIf",o.isSucessPopupVisible),t.xp6(2),t.Q6J("ngIf",o.isWarningPopupVisible),t.xp6(2),t.Q6J("ngIf",o.isErrorPopupVisible))},directives:[f.T,p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,a.mk,a.O5,p.EJ,p.YN,p.Kr,a.sg,a.PC,U.R,v.V],pipes:[A.m,a.uU],styles:[""]}),e})()}];let B=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.Bz.forChild(R)],d.Bz]}),e})();var V=s(5059),j=s(7416);let W=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.ez,B,V.a,p.UX,p.u5,j.T]]}),e})()}}]);