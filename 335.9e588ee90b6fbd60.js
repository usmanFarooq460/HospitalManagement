"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[335],{8335:(y,r,a)=>{a.r(r),a.d(r,{DashboardsModule:()=>T});var g=a(9808),o=a(4366),d=a(655),i=a(5e3),l=a(520),m=a(2340);let c=(()=>{class t{constructor(e){this.http=e,this.header=new l.WM({"Content-Type":"application/json"}),this.apiUrl=m.N.apiUrl}getExpiredMedicine(){return this.http.get(this.apiUrl+"add_Record_in_store/getExpiredMedicines",{headers:this.header}).toPromise()}getPersistedMedidines(){return this.http.get(this.apiUrl+"add_Record_in_store/getPersistedMedidines",{headers:this.header}).toPromise()}getAllStaffHistory(){return this.http.get(this.apiUrl+"addStaff/getAll",{headers:this.header})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(l.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=a(7433);let f=(()=>{class t{constructor(e){this.service=e,this.allStaffList=[],this.sumOfAllStaffSalaries=0}ngOnInit(){this.getAllstaff()}getAllstaff(){this.service.getAllStaffHistory().subscribe(e=>{console.log("staff history: ",e),this.allStaffList=e;for(let s=0;s<this.allStaffList.length;s++)this.sumOfAllStaffSalaries+=this.allStaffList[s].Salary},e=>console.log("err in getting staff history: ",e))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(c))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-staff-salary-dashboard"]],decls:26,vars:4,consts:[[3,"heading","icon"],[1,"row"],[1,"col-md-4","stretch-card","grid-margin"],[1,"card","bg-gradient-info","card-img-holder","text-white"],[1,"card-body"],["src","assets/images/dashboard/circle.svg","alt","circle-image",1,"card-img-absolute"],[1,"font-weight-normal","mb-3"],[1,"mdi","mdi-bookmark-outline","mdi-24px","float-right"],[1,"mb-5"],[1,"card-text"]],template:function(e,s){1&e&&(i._UZ(0,"page-title",0),i._uU(1,"\n\n"),i.TgZ(2,"div",1),i._uU(3,"\n\n    "),i.TgZ(4,"div",2),i._uU(5,"\n        "),i.TgZ(6,"div",3),i._uU(7,"\n            "),i.TgZ(8,"div",4),i._uU(9,"\n                "),i._UZ(10,"img",5),i._uU(11,"\n                "),i.TgZ(12,"h4",6),i._uU(13,"\n                    Total Staff\n                    "),i._UZ(14,"i",7),i._uU(15,"\n                "),i.qZA(),i._uU(16,"\n                "),i.TgZ(17,"h2",8),i._uU(18),i.qZA(),i._uU(19,"\n                "),i.TgZ(20,"h6",9),i._uU(21),i.qZA(),i._uU(22,"\n            "),i.qZA(),i._uU(23,"\n        "),i.qZA(),i._uU(24,"\n    "),i.qZA(),i._uU(25,"\n\n"),i.qZA()),2&e&&(i.Q6J("heading","Staff")("icon","mdi mdi-view-dashboard"),i.xp6(18),i.Oqu(null==s.allStaffList?null:s.allStaffList.length),i.xp6(3),i.hij("Total Salaries ",s.sumOfAllStaffSalaries,""))},directives:[h.T],styles:[""]}),t})();const p=[{path:"",component:(()=>{class t{constructor(e){this.service=e,this.expiredMedicines=[],this.persistedMedicines=[],this.totalMedicines=[],this.totalRetailPrice=0,this.expiredMedicineRetailPrice=0,this.persistedMedicineRetailPrice=0}ngOnInit(){return(0,d.mG)(this,void 0,void 0,function*(){yield this.getExpiredMedicine(),yield this.getPersistedMedidines(),this.calculatingTotalPrice()})}calculatingTotalPrice(){console.log("all medicines list: ",this.totalMedicines);for(let e=0;e<this.totalMedicines.length;e++)this.totalRetailPrice=this.totalRetailPrice+this.totalMedicines[e].medicineId.retailPrice}getExpiredMedicine(){return(0,d.mG)(this,void 0,void 0,function*(){this.expiredMedicines=yield this.service.getExpiredMedicine(),this.expiredMedicines.map(e=>{this.totalMedicines.push(e),this.expiredMedicineRetailPrice+=e.medicineId.retailPrice}),console.log("expired medicine: ",this.expiredMedicines)})}getPersistedMedidines(){return(0,d.mG)(this,void 0,void 0,function*(){this.persistedMedicines=yield this.service.getPersistedMedidines(),this.persistedMedicines.map(e=>{this.totalMedicines.push(e),this.persistedMedicineRetailPrice+=e.medicineId.retailPrice}),console.log("persisted medicines: ",this.persistedMedicines)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(c))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-pharmacy-dashboard"]],decls:72,vars:8,consts:[[3,"heading","icon"],[1,"row"],[1,"col-md-4","stretch-card","grid-margin"],[1,"card","bg-gradient-danger","card-img-holder","text-white"],[1,"card-body"],["src","assets/images/dashboard/circle.svg","alt","circle-image",1,"card-img-absolute"],[1,"font-weight-normal","mb-3"],[1,"mdi","mdi-hospital","mdi-24px","float-right"],[1,"mb-5"],[1,"card-text"],[1,"card","bg-gradient-info","card-img-holder","text-white"],[1,"mdi","mdi-bookmark-outline","mdi-24px","float-right"],[1,"card","bg-gradient-success","card-img-holder","text-white"],[1,"mdi","mdi-diamond","mdi-24px","float-right"]],template:function(e,s){1&e&&(i._UZ(0,"page-title",0),i._uU(1,"\n\n"),i.TgZ(2,"div",1),i._uU(3,"\n    "),i.TgZ(4,"div",2),i._uU(5,"\n        "),i.TgZ(6,"div",3),i._uU(7,"\n            "),i.TgZ(8,"div",4),i._uU(9,"\n                "),i._UZ(10,"img",5),i._uU(11,"\n                "),i.TgZ(12,"h4",6),i._uU(13,"\n                    Total Medicines\n                    "),i._UZ(14,"i",7),i._uU(15,"\n                "),i.qZA(),i._uU(16,"\n                "),i.TgZ(17,"h2",8),i._uU(18),i.qZA(),i._uU(19,"\n                "),i.TgZ(20,"h6",9),i._uU(21),i.qZA(),i._uU(22,"\n            "),i.qZA(),i._uU(23,"\n        "),i.qZA(),i._uU(24,"\n    "),i.qZA(),i._uU(25,"\n    "),i.TgZ(26,"div",2),i._uU(27,"\n        "),i.TgZ(28,"div",10),i._uU(29,"\n            "),i.TgZ(30,"div",4),i._uU(31,"\n                "),i._UZ(32,"img",5),i._uU(33,"\n                "),i.TgZ(34,"h4",6),i._uU(35,"\n                    Expired Medicines\n                    "),i._UZ(36,"i",11),i._uU(37,"\n                "),i.qZA(),i._uU(38,"\n                "),i.TgZ(39,"h2",8),i._uU(40),i.qZA(),i._uU(41,"\n                "),i.TgZ(42,"h6",9),i._uU(43),i.qZA(),i._uU(44,"\n            "),i.qZA(),i._uU(45,"\n        "),i.qZA(),i._uU(46,"\n    "),i.qZA(),i._uU(47,"\n    "),i.TgZ(48,"div",2),i._uU(49,"\n        "),i.TgZ(50,"div",12),i._uU(51,"\n            "),i.TgZ(52,"div",4),i._uU(53,"\n                "),i._UZ(54,"img",5),i._uU(55,"\n                "),i.TgZ(56,"h4",6),i._uU(57,"\n                    Persisted Medicines\n                    "),i._UZ(58,"i",13),i._uU(59,"\n                "),i.qZA(),i._uU(60,"\n                "),i.TgZ(61,"h2",8),i._uU(62),i.qZA(),i._uU(63,"\n                "),i.TgZ(64,"h6",9),i._uU(65),i.qZA(),i._uU(66,"\n            "),i.qZA(),i._uU(67,"\n        "),i.qZA(),i._uU(68,"\n    "),i.qZA(),i._uU(69,"\n"),i.qZA(),i._uU(70,"\n\n"),i._UZ(71,"app-staff-salary-dashboard")),2&e&&(i.Q6J("heading","Pharmacy")("icon","mdi mdi-view-dashboard"),i.xp6(18),i.Oqu(s.persistedMedicines.length+s.expiredMedicines.length),i.xp6(3),i.hij("Total Retail Price ",s.totalRetailPrice," "),i.xp6(19),i.Oqu(s.expiredMedicines.length),i.xp6(3),i.hij("Total Retail Price ",s.expiredMedicineRetailPrice,""),i.xp6(19),i.Oqu(s.persistedMedicines.length),i.xp6(3),i.hij("Total Retail Price ",s.persistedMedicineRetailPrice,""))},directives:[h.T,f],styles:[""]}),t})()}];let U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[o.Bz.forChild(p)],o.Bz]}),t})();var Z=a(5299),v=a(7272),u=a(4182),M=a(5059);let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[g.ez,U,v.m9,Z.IJ,u.u5,u.UX,M.a]]}),t})()}}]);